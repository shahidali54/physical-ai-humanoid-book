<svg width="1000" height="700" xmlns="http://www.w3.org/2000/svg">
  <style>
    .node { fill: #e3f2fd; stroke: #1565c0; stroke-width: 2px; rx: 10px; ry: 10px; }
    .llm { fill: #fff3e0; stroke: #f57c00; stroke-width: 2px; rx: 10px; ry: 10px; }
    .process { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2px; rx: 10px; ry: 10px; }
    .output { fill: #e8f5e9; stroke: #2e7d32; stroke-width: 2px; rx: 10px; ry: 10px; }
    .text { font-family: Arial, sans-serif; font-size: 14px; fill: #000; text-anchor: middle; }
    .arrow { stroke: #444; stroke-width: 2px; marker-end: url(#arrowhead); }
    .title { font-size: 18px; font-weight: bold; }
    .label { font-size: 12px; font-weight: bold; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7"
      refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#444" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="500" y="30" class="text title">Action Graph Structure for Humanoid Robotics</text>

  <!-- Input Layer -->
  <rect x="50" y="80" width="200" height="60" class="node"/>
  <text x="150" y="110" class="text">Natural Language</text>
  <text x="150" y="130" class="text">Command (e.g., "Clean the room")</text>

  <!-- LLM Cognitive Planning -->
  <rect x="50" y="180" width="200" height="60" class="llm"/>
  <text x="150" y="210" class="text">LLM Cognitive</text>
  <text x="150" y="230" class="text">Planning</text>

  <!-- Action Graph Generation -->
  <rect x="300" y="130" width="200" height="60" class="process"/>
  <text x="400" y="160" class="text">Action Graph</text>
  <text x="400" y="180" class="text">Generation</text>

  <!-- Action Graph Structure -->
  <text x="650" y="100" class="text title">Action Graph Structure</text>

  <!-- Action Nodes -->
  <rect x="550" y="150" width="160" height="50" class="output"/>
  <text x="630" y="175" class="text">Action Node 1</text>
  <text x="630" y="195" class="text">[NAVIGATE]</text>

  <rect x="750" y="150" width="160" height="50" class="output"/>
  <text x="830" y="175" class="text">Action Node 2</text>
  <text x="830" y="195" class="text">[DETECT]</text>

  <rect x="550" y="230" width="160" height="50" class="output"/>
  <text x="630" y="255" class="text">Action Node 3</text>
  <text x="630" y="275" class="text">[GRASP]</text>

  <rect x="750" y="230" width="160" height="50" class="output"/>
  <text x="830" y="255" class="text">Action Node 4</text>
  <text x="830" y="275" class="text">[TRANSPORT]</text>

  <rect x="650" y="310" width="160" height="50" class="output"/>
  <text x="730" y="335" class="text">Action Node 5</text>
  <text x="730" y="355" class="text">[RELEASE]</text>

  <!-- Dependencies -->
  <line x1="630" y1="200" x2="630" y2="230" class="arrow"/>
  <line x1="830" y1="200" x2="830" y2="230" class="arrow"/>
  <line x1="630" y1="280" x2="730" y2="310" class="arrow"/>
  <line x1="830" y1="280" x2="730" y2="310" class="arrow"/>

  <!-- Dependencies Legend -->
  <text x="650" y="380" class="text label">Dependencies: Actions must execute in sequence</text>

  <!-- ROS 2 Action Execution -->
  <rect x="650" y="420" width="200" height="60" class="node"/>
  <text x="750" y="450" class="text">ROS 2 Action</text>
  <text x="750" y="470" class="text">Execution</text>

  <!-- Humanoid Robot -->
  <rect x="650" y="520" width="200" height="60" class="process"/>
  <text x="750" y="550" class="text">Humanoid</text>
  <text x="750" y="570" class="text">Robot Execution</text>

  <!-- Arrows -->
  <line x1="250" y1="110" x2="300" y2="160" class="arrow"/>
  <line x1="250" y1="210" x2="300" y2="160" class="arrow"/>
  <line x1="500" y1="160" x2="550" y2="175" class="arrow"/>
  <line x1="750" y1="480" x2="750" y2="520" class="arrow"/>

  <!-- Labels -->
  <text x="150" y="60" class="text" font-weight="bold">Input</text>
  <text x="400" y="110" class="text" font-weight="bold">Processing</text>
  <text x="750" y="110" class="text" font-weight="bold">Action Graph</text>
  <text x="750" y="400" class="text" font-weight="bold">Execution</text>
  <text x="750" y="600" class="text" font-weight="bold">Robot Output</text>

  <!-- Legend -->
  <rect x="50" y="500" width="200" height="150" fill="none" stroke="#ccc"/>
  <text x="150" y="520" class="text" font-weight="bold">Legend</text>
  <rect x="60" y="535" width="20" height="15" class="node"/>
  <text x="90" y="547" class="text" text-anchor="start">Input/Commands</text>
  <rect x="60" y="555" width="20" height="15" class="llm"/>
  <text x="90" y="567" class="text" text-anchor="start">LLM Processing</text>
  <rect x="60" y="575" width="20" height="15" class="process"/>
  <text x="90" y="587" class="text" text-anchor="start">Process/Execution</text>
  <rect x="60" y="595" width="20" height="15" class="output"/>
  <text x="90" y="607" class="text" text-anchor="start">Action Nodes</text>

  <!-- Process Flow Description -->
  <text x="500" y="670" class="text">Process Flow: Natural Language Command → LLM Planning → Action Graph Generation → ROS 2 Execution → Robot Action</text>
</svg>